"use strict";function WireWaxPlayer(){}if(WireWaxPlayer.prototype={debug:!1,params:{},default_params:{id:"video",src:"//embed.wirewax.com/8022625/7bafa8/",width:533,height:300,duration:110.97254,player:"ww",autoplay:!1,startmuted:!1,cover:!0,chromeless:!1,replaywithsound:!0,continuecfs:!0,overlay:!1},dom_container:null,dom_overlay:null,dom_play:null,dom_sound:null,dom_replay:null,svg:{play:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64" viewBox="0 0 24 24"><path fill="#444444" d="M12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM9.984 16.5v-9l6 4.5z"></path></svg>',sound:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64" viewBox="0 0 24 24"><path fill="#444444" d="M14.016 3.234q3.047 0.656 5.016 3.117t1.969 5.648-1.969 5.648-5.016 3.117v-2.063q2.203-0.656 3.586-2.484t1.383-4.219-1.383-4.219-3.586-2.484v-2.063zM16.5 12q0 2.813-2.484 4.031v-8.063q2.484 1.219 2.484 4.031zM3 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6z"></path></svg>',replay:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64" viewBox="0 0 24 24"><path fill="#444444" d="M12 5.016q3.328 0 5.672 2.344t2.344 5.625q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672h2.016q0 2.484 1.758 4.242t4.242 1.758 4.242-1.758 1.758-4.242-1.758-4.242-4.242-1.758v4.031l-5.016-5.016 5.016-5.016v4.031z"></path></svg>'},colors_play:"#FFF",colors_sound:"#FFF",colors_replay:"#FFF",colors_bg:"rgba(0,0,0,0.4)",dom_template_play:function t(){this.dom_play=document.createElement("div"),this.dom_play.style.backgroundColor=this.colors_bg,this.setVendor(this.dom_play,"borderRadius","32px"),this.dom_play.innerHTML=this.svg.play,this.dom_play.getElementsByTagName("path")[0].style.fill=this.colors_play},dom_template_sound:function t(){this.dom_sound=document.createElement("div"),this.dom_sound.style.backgroundColor=this.colors_bg,this.setVendor(this.dom_sound,"borderRadius","32px"),this.dom_sound.innerHTML=this.svg.sound,this.dom_sound.getElementsByTagName("path")[0].style.fill=this.colors_sound},dom_template_replay:function t(){this.dom_replay=document.createElement("div"),this.dom_replay.style.backgroundColor=this.colors_bg,this.setVendor(this.dom_replay,"borderRadius","32px"),this.dom_replay.innerHTML=this.svg.replay,this.dom_replay.getElementsByTagName("path")[0].style.fill=this.colors_replay,this.dom_replay.getElementsByTagName("svg")[0].style.marginTop="-5px"},overlayShow:function t(s){this.dom_overlay.style.display="block";var e=[this.dom_play,this.dom_replay,this.dom_sound];s.style.display="block";for(var a=0;a<e.length;a++)e[a]!==s&&(e[a].style.display="none");this.reflow(!0)},api:!1,playhead:0,volume:-1,update_int:300,dom_debug:null,flag_paused:!1,flag_playing:!1,flag_finished:!1,flag_widget:!1,flag_stopping:!1,flag_ready:!1,flag_vol_nonce:!0,flag_muted:!1,flag_events:!1,flag_overlay:!1,load_int:null,init_int:null,error_int:null,flag_error:null,prog_int:null,proxy:null,centered_controls:{},evaluate:function t(s){if(this.flag_playing=!1,this.playhead=null,this.duration=null,0===Object.keys(this.params).length)for(var e in this.default_params)this.params[e]=this.default_params[e];if(s&&s.constructor===Object){for(var a in s)this.params[a]=s[a];s.src||delete this.params.src}else s&&s.constructor===String?this.params.src=s:s&&s.constructor===Boolean||delete this.params.src;this.dom_container||(this.dom_container=document.getElementById(this.params.id)),this.dom_container.offsetWidth>0&&this.dom_container.offsetHeight>0&&(this.params.width=this.dom_container.offsetWidth,this.params.height=this.dom_container.offsetHeight),this.params.autoplay?this.params.startmuted=!0:this.params.startmuted=!1},checkParams:function t(s){return!(!s||s.constructor!==Object||!s.src||s.duration)&&(alert("params.duration needs to be defined when supplying a video src"),!0)},init:function t(s){var e=this;window.wirewax?(clearInterval(this.init_int),this.api=!0,this.checkParams(s)||(this.evaluate(s),this.params.src?this.load(s):this.trace(this.params,"params (init)"))):this.init_int=setTimeout(function(){e.init(s)},500)},load:function t(s){var e=this;if(this.api)if(clearInterval(this.load_int),s&&s.constructor===Object&&!this.checkParams(s)){this.unload(),this.evaluate(s),this.params.chromeless&&this.params.overlay&&this.setupOverlay(),this.trace(this.params,"params (load)");var a="?player="+this.params.player+"&autoplay="+this.params.autoplay+"&muted="+this.params.startmuted+"&skin="+(this.params.chromeless?"SkinBarebonesSlick":"SkinDefaultSlick")+"&fullBleed="+this.params.cover;this.proxy=document.createElement("iframe"),this.proxy.id="proxy_"+this.params.id,this.proxy.width=this.params.width+"px",this.proxy.height=this.params.height+"px",this.proxy.src=this.params.src+a,this.proxy.setAttribute("frameborder","0"),this.dom_container.appendChild(this.proxy),this.flag_events||this.setListeners(),this.flag_events=!0,window.wirewax.playerId="proxy_"+this.params.id}else alert("load() method requires parameter object");else this.load_int=setTimeout(function(){e.load(s)},500)},setupOverlay:function t(){var s=this;this.dom_overlay=document.createElement("div"),this.dom_overlay.className="wwOverlay",this.dom_overlay.style.position="absolute",this.dom_overlay.style.top="0",this.dom_overlay.style.left="0",this.dom_overlay.style.width="100%",this.dom_overlay.style.height="100%",this.dom_overlay.style.cursor="auto",this.dom_template_play(),this.addClass(this.dom_play,"cbtn"),this.addClass(this.dom_play,"v_control_bb"),this.addClass(this.dom_play,"play"),this.dom_play.style.zIndex=this.zindex+2,this.dom_play.style.display="block",this.dom_play.style.position="absolute",this.dom_play.style.cursor="pointer",this.dom_overlay.appendChild(this.dom_play),this.dom_play.style.display="none",this.centered_controls.play=this.dom_play,this.dom_template_sound(),this.addClass(this.dom_sound,"cbtn"),this.addClass(this.dom_sound,"v_control_bb"),this.addClass(this.dom_sound,"sound"),this.dom_sound.style.zIndex=this.zindex+2,this.dom_sound.style.display="block",this.dom_sound.style.position="absolute",this.dom_sound.style.cursor="pointer",this.dom_overlay.appendChild(this.dom_sound),this.dom_sound.style.display="none",this.centered_controls.sound=this.dom_sound,this.params.uniquereplay?this.dom_template_replay():(this.dom_replay=this.dom_play.cloneNode(!0),this.removeClass(this.dom_replay,"play")),this.addClass(this.dom_replay,"cbtn"),this.addClass(this.dom_replay,"v_control_bb"),this.addClass(this.dom_replay,"replay"),this.dom_replay.id="replay_btn",this.dom_replay.style.zIndex=this.zindex+2,this.dom_replay.style.display="block",this.dom_replay.style.position="absolute",this.dom_replay.style.cursor="pointer",this.dom_overlay.appendChild(this.dom_replay),this.dom_replay.style.display="none",this.centered_controls.replay=this.dom_replay;var e=function t(e){s.eventHandler(e)};this.dom_overlay.addEventListener("click",e,!1),this.dom_play.addEventListener("click",e,!1),this.dom_sound.addEventListener("click",e,!1),this.dom_replay.addEventListener("click",e,!1),this.trace(this.dom_container,"Overlay Created"),this.dom_container.appendChild(this.dom_overlay),this.flag_overlay=!0,this.reflow(!0)},eventHandler:function t(s){var e=this;switch("returnCurrentTime"!=s.name&&this.trace(s,"eventHandler"),s.name){case"playerReady":this.flag_ready||(this.flag_ready=!0,this.flag_vol_nonce=!0,this.callback_ready(),this.params.chromeless&&this.params.overlay&&(this.dom_overlay.style.cursor="pointer",this.params.autoplay?this.error_int=setTimeout(function(){e.forceOverlayPlayButton(),e.callback_error("callback_error","DEFAULT CALLBACK")},5e3):this.forceOverlayPlayButton()));break;case"hasPlayed":this.flag_playing&&!this.flag_paused||(this.flag_paused&&this.track_play(),this.flag_playing=!0,this.startProgress(),this.flag_paused&&this.callback_play(),this.flag_paused=!1);break;case"videoEnd":this.stopProgress(),this.trace("video duration: "+this.playhead),this.track_end(),this.callback_end(),this.resetTracking(),this.flag_paused=!1,this.flag_finished=!0,this.params.continuecfs=!0,this.params.replaywithsound&&(this.volume=1,this.setVolume(1),this.flag_muted=!1),this.params.chromeless&&this.params.overlay&&this.overlayShow(this.dom_replay);break;case"hasPaused":this.flag_paused||!this.flag_playing||this.flag_stopping||(this.stopProgress(),this.track_pause(),this.callback_pause(),this.flag_paused=!0);break;case"hasSeeked":this.flag_paused||this.startProgress(),this.params.autoplay&&this.params.overlay&&(this.trace(this.error_int,"CLEARING PROMISE CHECKER"),clearInterval(this.error_int),this.error_int=null,this.flag_error&&!this.track.started&&(this.flag_error=!1,this.overlayShow(this.dom_sound),this.setVendor(this.dom_overlay,"pointerEvents","auto"),this.play()));break;case"volumeChange":!this.track.started&&this.flag_error&&"block"===this.dom_play.style.display?(this.flag_error=!1,this.flag_muted=!1,this.volume=1,this.dom_overlay.style.display="none"):s.data.volume!=this.volume?(0==this.volume?(!this.flag_vol_nonce&&this.flag_playing&&(this.track_unmute(),this.callback_volume(),this.params.continuecfs||(this.seek(0),this.params.continuecfs=!0)),this.flag_vol_nonce=!1):0==s.data.volume&&(this.playhead>0&&!this.flag_vol_nonce&&!this.flag_muted?(this.track_mute(),this.callback_volume()):this.flag_muted=!1),this.volume=s.data.volume):this.flag_vol_nonce&&(this.params.startmuted?(this.volume=1,this.setVolume(1),this.flag_muted=!0,this.flag_vol_nonce=!1):(this.volume=0,this.setVolume(1),this.flag_muted=!1));break;case"returnCurrentTime":this.playhead=s.data.currentTime;var a=this.playhead/this.params.duration*100;!0!==this.track.started&&a>0&&(this.track.started=!0,this.flag_finished?this.track_replay():this.track_start(),this.callback_play(),this.callback_start(),this.params.chromeless&&this.params.overlay&&(this.params.startmuted&&0===this.volume&&this.overlayShow(this.dom_sound),this.reflow(!0)),this.setVendor(this.dom_overlay,"pointerEvents","auto"),this.flag_error&&(this.dom_overlay.style.display="none")),!0!==this.track.q25&&a>=25&&(this.track.q25=!0,this.track_q25()),!0!==this.track.q50&&a>=50&&(this.track.q50=!0,this.track_q50()),!0!==this.track.q75&&a>=75&&(this.track.q75=!0,this.track_q75()),this.callback_progress();break;case"scormEvent":break;case"renditionChanged":break;case"widgetClosed":this.flag_widget&&(this.track_tagClose(),this.flag_widget=!1);break;case"widgetShown":this.flag_widget=!0,this.trace(s),this.track_tagOpen();break;case"clientCustomEvent":break;case"tagClick":break;case"addToCart":this.callback_cart(s.data);break;default:if("click"===s.type&&("block"===this.dom_play.style.display||"block"===this.dom_replay.style.display||"block"===this.dom_sound.style.display)&&(this.flag_playing||!this.flag_playing&&this.flag_finished)){this.dom_overlay.style.display="none","block"===this.dom_sound.style.display?this.unmute():(this.flag_error&&(this.flag_muted=!1,this.volume=1,this.setVolume(1)),this.flag_error=!1,this.play());for(var i in this.centered_controls){this.centered_controls[i].style.display}}}},startProgress:function t(){var s=this;this.stopProgress(),this.prog_int=setInterval(function(){s.updateHander()},this.update_int)},stopProgress:function t(){this.api&&this.flag_ready&&clearInterval(this.prog_int)},updateHander:function t(){this.api&&this.flag_ready&&window.wirewax.triggerEvent(window.wirewax.events.triggers.GET_CURRENT_TIME),this.flag_stopping&&this.stopBatch()},track:{started:!1,q25:!1,q50:!1,q75:!1},resetTracking:function t(){this.playhead=0,this.track.started=!1,this.track.q25=!1,this.track.q50=!1,this.track.q75=!1,this.flag_playing=!1,this.flag_paused=!1},track_tagOpen:function t(){this.trace("track_tagOpen","DEFAULT CALLBACK")},track_tagClose:function t(){this.trace("track_tagClose","DEFAULT CALLBACK")},track_tagSeek:function t(){this.trace("track_tagSeek","DEFAULT CALLBACK")},track_start:function t(){this.trace("track_start","DEFAULT CALLBACK")},track_stop:function t(){this.trace("track_stop","DEFAULT CALLBACK")},track_end:function t(){this.trace("track_end","DEFAULT CALLBACK")},track_play:function t(){this.trace("track_play","DEFAULT CALLBACK")},track_replay:function t(){this.trace("track_replay","DEFAULT CALLBACK")},track_pause:function t(){this.trace("track_pause","DEFAULT CALLBACK")},track_mute:function t(){this.trace("track_mute","DEFAULT CALLBACK")},track_unmute:function t(){this.trace("track_unmute","DEFAULT CALLBACK")},track_q25:function t(){this.trace("track_q25","DEFAULT CALLBACK")},track_q50:function t(){this.trace("track_q50","DEFAULT CALLBACK")},track_q75:function t(){this.trace("track_q75","DEFAULT CALLBACK")},callback_progress:function t(){},callback_ready:function t(){this.trace("callback_ready","DEFAULT CALLBACK")},callback_end:function t(){this.trace("callback_end","DEFAULT CALLBACK")},callback_play:function t(){this.trace("callback_play","DEFAULT CALLBACK")},callback_stop:function t(){this.trace("callback_stop","DEFAULT CALLBACK")},callback_pause:function t(){this.trace("callback_pause","DEFAULT CALLBACK")},callback_start:function t(){this.trace("callback_start","DEFAULT CALLBACK")},callback_error:function t(s,e){this.trace(s,e)},callback_volume:function t(){var s="";this.notifications.volume&&(s=this.flag_muted?" (muted)":" (unmuted)"),this.trace("callback_volume"+s,"DEFAULT CALLBACK")},callback_cart:function t(s){this.trace("callback_cart","DEFAULT CALLBACK"),this.trace(s,"cart data")},play:function t(){this.api&&this.flag_ready&&!this.flag_widget?(this.flag_playing&&this.flag_paused||!this.flag_playing&&!this.flag_paused)&&window.wirewax.triggerEvent(window.wirewax.events.triggers.PLAY):this.flag_widget&&this.tagClose()},pause:function t(){this.api&&this.flag_ready&&this.flag_playing&&!this.flag_paused&&!this.flag_widget&&this.api&&this.flag_ready&&window.wirewax.triggerEvent(window.wirewax.events.triggers.PAUSE)},stop:function t(){this.api&&this.flag_ready&&this.flag_playing&&(this.flag_widget?(this.flag_stopping=!0,this.tagClose()):this.stopBatch())},stopBatch:function t(){this.flag_stopping=!0,this.stopProgress(),this.pause(),this.seek(0),this.resetTracking(),this.track_stop(),this.callback_stop(),this.flag_stopping=!1},seek:function t(s){this.api&&this.flag_ready&&!this.flag_widget&&(this.stopProgress(),window.wirewax.triggerEvent(window.wirewax.events.triggers.SEEK,s))},getTime:function t(){return this.playhead},isPlayerReady:function t(){this.api&&this.flag_ready&&window.wirewax.triggerEvent(window.wirewax.events.triggers.IS_PLAYER_READY)},tagSeek:function t(s){this.api&&this.flag_ready&&!this.flag_widget&&(window.wirewax.triggerEvent(window.wirewax.events.triggers.GO_TO_TAG,s),this.track_tagSeek())},tagOpen:function t(s){this.api&&this.flag_ready&&!this.flag_widget&&window.wirewax.triggerEvent(window.wirewax.events.triggers.OPEN_TAG,s)},tagClose:function t(){this.api&&this.flag_ready&&this.flag_widget&&window.wirewax.triggerEvent(window.wirewax.events.triggers.CLOSE_WIDGET)},mute:function t(){this.api&&this.flag_ready&&!this.flag_widget&&window.wirewax.triggerEvent(window.wirewax.events.triggers.MUTE_VOLUME)},unmute:function t(){this.api&&this.flag_ready&&!this.flag_widget&&window.wirewax.triggerEvent(window.wirewax.events.triggers.UNMUTE_VOLUME)},setVolume:function t(s){this.api&&this.flag_ready&&!this.flag_widget&&window.wirewax.triggerEvent(window.wirewax.events.triggers.CHANGE_VOLUME,s)},resetVariables:function t(){},resetPlayback:function t(){},unload:function t(){var s=this;if(this.stop(),this.stopProgress(),this.dom_overlay){var e=function t(e){s.eventHandler(e)};this.dom_overlay.removeEventListener("click",e,!1),this.dom_play.removeEventListener("click",e,!1),this.dom_sound.removeEventListener("click",e,!1),this.dom_replay.removeEventListener("click",e,!1)}this.dom_container&&(this.dom_container.innerHTML=""),this.proxy=null,this.params={},this.volume=-1,this.flag_paused=!1,this.flag_playing=!1,this.flag_finished=!1,this.flag_widget=!1,this.flag_stopping=!1,this.flag_ready=!1},destroy:function t(){this.unload()},trace:function t(s,e){this.debug&&(window.console&&(e?console.log(s,e):console.log(s)),this.dom_debug&&(this.dom_debug.innerHTML+=(e?e+": ":"")+s+"<br>"))},setListeners:function t(){var s=this;for(var e in window.wirewax.events.listeners)window.wirewax.addEventListener(window.wirewax.events.listeners[e],function(t){s.eventHandler(t)},!1)},listEvents:function t(){for(var s in window.wirewax.events.listeners)console.log(window.wirewax.events.listeners[s])},setVendor:function t(s,e,a){var i=window.getComputedStyle(s,""),r=new RegExp(e+"$","i");for(var o in i)r.test(o)&&(s.style[o]=a)},addClass:function t(s,e){s.classList?s.classList.add(e):s.className+=" "+e},removeClass:function t(s,e){s.classList?s.classList.remove(e):s.className=s.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},forceOverlayPlayButton:function t(){this.flag_error=!0,this.overlayShow(this.dom_play),this.setVendor(this.dom_overlay,"pointerEvents","none")},reflow:function t(s){if(this.api&&this.dom_overlay){this.proxy&&(this.proxy.width=this.dom_container.offsetWidth,this.proxy.height=this.dom_container.offsetHeight);for(var e in this.centered_controls){var a=this.centered_controls[e];a.style.top="50%",a.style.marginTop=a.offsetHeight/2*-1+"px",a.style.left="50%",a.style.marginLeft=a.offsetWidth/2*-1+"px"}s||this.trace("reflow video")}else s||this.trace("reflow useless: video elements aren't ready")}},!window.wirewax){var checkDebug=!(!window.console||!window.debug);checkDebug&&console.log("LOADING WireWax API");var loadFunction=function t(){checkDebug&&console.log("WireWax API loaded")},s=document.createElement("script");s.type="text/javascript",s.src="https://edge-player.wirewax.com/ww4release/javascripts/wirewax-iframe-api.js",s.addEventListener("load",loadFunction,!1);var head=document.getElementsByTagName("head")[0];head.appendChild(s)}